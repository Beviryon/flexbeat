<template>
  <div class="min-h-screen pt-20">
    <!-- Hero Section -->
    <section class="relative py-16 bg-gradient-to-br from-raspberry to-sunny text-white overflow-hidden">
      <div class="absolute inset-0">
        <div class="absolute inset-0 bg-gradient-to-br from-raspberry/90 to-sunny/90"></div>
      </div>
      
      <div class="container mx-auto px-4 relative z-10">
        <div class="max-w-4xl mx-auto text-center">
          <h1 class="text-4xl md:text-5xl font-bold mb-4">
            Slam & Po√©sie FlexBeat
          </h1>
          <p class="text-xl text-white/90 leading-relaxed">
            Lib√©rez votre voix, exprimez votre √¢me √† travers les mots qui dansent
          </p>
        </div>
      </div>
    </section>

    <!-- Introduction -->
    <section class="py-16 bg-white">
      <div class="container mx-auto px-4">
        <div class="max-w-4xl mx-auto">
          <div class="text-center mb-12">
            <p class="text-lg text-gray-700 leading-relaxed">
              Le Slam FlexBeat est un espace d'expression libre o√π la po√©sie rencontre la performance. 
              Ici, chaque voix compte, chaque histoire m√©rite d'√™tre entendue. Que vous soyez d√©butant ou slameur confirm√©, 
              notre sc√®ne est votre terrain de jeu cr√©atif.
            </p>
          </div>

          <div class="grid md:grid-cols-4 gap-6">
            <div class="text-center">
              <div class="w-16 h-16 bg-gradient-to-br from-raspberry to-sunny rounded-full flex items-center justify-center text-white text-2xl mx-auto mb-3">
                üé§
              </div>
              <h3 class="font-bold mb-2">Sc√®nes ouvertes</h3>
              <p class="text-sm text-gray-600">Tous les vendredis soir</p>
            </div>
            <div class="text-center">
              <div class="w-16 h-16 bg-gradient-to-br from-indigo to-cacao rounded-full flex items-center justify-center text-white text-2xl mx-auto mb-3">
                ‚úçÔ∏è
              </div>
              <h3 class="font-bold mb-2">Ateliers d'√©criture</h3>
              <p class="text-sm text-gray-600">Techniques et cr√©ativit√©</p>
            </div>
            <div class="text-center">
              <div class="w-16 h-16 bg-gradient-to-br from-sunny to-raspberry rounded-full flex items-center justify-center text-white text-2xl mx-auto mb-3">
                üèÜ
              </div>
              <h3 class="font-bold mb-2">Battles de slam</h3>
              <p class="text-sm text-gray-600">Comp√©titions mensuelles</p>
            </div>
            <div class="text-center">
              <div class="w-16 h-16 bg-gradient-to-br from-cacao to-indigo rounded-full flex items-center justify-center text-white text-2xl mx-auto mb-3">
                üë•
              </div>
              <h3 class="font-bold mb-2">Communaut√©</h3>
              <p class="text-sm text-gray-600">R√©seau de po√®tes</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Types d'√©v√©nements -->
    <section class="py-16 bg-gray-50">
      <div class="container mx-auto px-4">
        <div class="max-w-6xl mx-auto">
          <div class="text-center mb-12">
            <h2 class="section-title mb-4">Nos √âv√©nements Slam</h2>
            <p class="section-subtitle max-w-3xl mx-auto">
              Des rendez-vous r√©guliers pour s'exprimer, partager et vibrer ensemble
            </p>
          </div>

          <div class="grid md:grid-cols-2 gap-8">
            <!-- Sc√®ne ouverte -->
            <div class="bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-2xl transition-all duration-300">
              <div class="h-48 bg-gradient-to-br from-raspberry to-sunny p-8 flex items-center">
                <div>
                  <h3 class="text-2xl font-bold text-white mb-2">Sc√®ne Ouverte "Mic Drop"</h3>
                  <p class="text-white/90">Chaque vendredi √† 19h30</p>
                </div>
              </div>
              <div class="p-6">
                <p class="text-gray-700 mb-4">
                  Notre sc√®ne ouverte hebdomadaire o√π chacun peut monter sur sc√®ne pour 3 minutes de pure expression. 
                  Pas de jugement, juste de l'amour pour les mots.
                </p>
                <div class="space-y-3">
                  <div class="flex items-center gap-3">
                    <svg class="w-5 h-5 text-sunny flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                      <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                    </svg>
                    <span class="text-sm">Inscription sur place d√®s 19h</span>
                  </div>
                  <div class="flex items-center gap-3">
                    <svg class="w-5 h-5 text-sunny flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                      <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                    </svg>
                    <span class="text-sm">3 minutes par performance</span>
                  </div>
                  <div class="flex items-center gap-3">
                    <svg class="w-5 h-5 text-sunny flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                      <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                    </svg>
                    <span class="text-sm">Th√®me libre ou th√®me du mois</span>
                  </div>
                </div>
                <button @click="showVideo('open-mic')" class="mt-6 text-raspberry font-semibold flex items-center gap-2 hover:gap-3 transition-all">
                  Voir un extrait vid√©o
                  <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clip-rule="evenodd" />
                  </svg>
                </button>
              </div>
            </div>

            <!-- Battle de slam -->
            <div class="bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-2xl transition-all duration-300">
              <div class="h-48 bg-gradient-to-br from-indigo to-cacao p-8 flex items-center">
                <div>
                  <h3 class="text-2xl font-bold text-white mb-2">Battle de Slam "Mots Crois√©s"</h3>
                  <p class="text-white/90">Premier samedi du mois</p>
                </div>
              </div>
              <div class="p-6">
                <p class="text-gray-700 mb-4">
                  Comp√©tition amicale o√π les slameurs s'affrontent en duel po√©tique. 
                  Le public vote pour son favori dans une ambiance √©lectrique.
                </p>
                <div class="space-y-3">
                  <div class="flex items-center gap-3">
                    <svg class="w-5 h-5 text-indigo flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                      <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                    </svg>
                    <span class="text-sm">16 participants maximum</span>
                  </div>
                  <div class="flex items-center gap-3">
                    <svg class="w-5 h-5 text-indigo flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                      <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                    </svg>
                    <span class="text-sm">Prix pour les 3 premiers</span>
                  </div>
                  <div class="flex items-center gap-3">
                    <svg class="w-5 h-5 text-indigo flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                      <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                    </svg>
                    <span class="text-sm">Inscription une semaine avant</span>
                  </div>
                </div>
                <button @click="showVideo('battle')" class="mt-6 text-indigo font-semibold flex items-center gap-2 hover:gap-3 transition-all">
                  Voir un extrait vid√©o
                  <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clip-rule="evenodd" />
                  </svg>
                </button>
              </div>
            </div>
          </div>

          <!-- Masterclass -->
          <div class="mt-8 bg-white rounded-2xl shadow-lg p-8">
            <div class="grid md:grid-cols-2 gap-8 items-center">
              <div>
                <h3 class="text-2xl font-bold text-cacao mb-4">Masterclass avec des artistes invit√©s</h3>
                <p class="text-gray-700 mb-6">
                  Chaque trimestre, nous invitons des slameurs professionnels, des po√®tes reconnus et des artistes de la parole 
                  pour partager leur exp√©rience et leurs techniques.
                </p>
                <div class="space-y-4">
                  <div class="flex items-start gap-3">
                    <span class="text-2xl">üéì</span>
                    <div>
                      <h4 class="font-semibold">Techniques de performance</h4>
                      <p class="text-sm text-gray-600">Pr√©sence sc√©nique, gestion du trac, projection vocale</p>
                    </div>
                  </div>
                  <div class="flex items-start gap-3">
                    <span class="text-2xl">üìù</span>
                    <div>
                      <h4 class="font-semibold">√âcriture cr√©ative</h4>
                      <p class="text-sm text-gray-600">Jeux de mots, m√©taphores, structure narrative</p>
                    </div>
                  </div>
                  <div class="flex items-start gap-3">
                    <span class="text-2xl">üé≠</span>
                    <div>
                      <h4 class="font-semibold">Expression corporelle</h4>
                      <p class="text-sm text-gray-600">Gestuelle, occupation de l'espace, connexion avec le public</p>
                    </div>
                  </div>
                </div>
              </div>
              <div class="bg-gradient-to-br from-sunny/10 to-raspberry/10 rounded-xl p-8 text-center">
                <div class="text-6xl mb-4">üåü</div>
                <h4 class="font-bold text-lg mb-2">Prochaine Masterclass</h4>
                <p class="text-gray-700 mb-4">
                  "L'art de captiver son audience"<br>
                  avec <strong>Marie-Jos√©e Tchissoukou</strong>
                </p>
                <p class="text-sm text-gray-600">15 d√©cembre 2024 - 14h √† 18h</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Ateliers d'√©criture -->
    <section class="py-16 bg-white">
      <div class="container mx-auto px-4">
        <div class="max-w-6xl mx-auto">
          <div class="text-center mb-12">
            <h2 class="section-title mb-4">Ateliers d'√âcriture Slam</h2>
            <p class="section-subtitle max-w-3xl mx-auto">
              D√©veloppez votre plume et trouvez votre voix unique
            </p>
          </div>

          <div class="grid md:grid-cols-3 gap-8">
            <div 
              v-for="workshop in workshops" 
              :key="workshop.id"
              class="group cursor-pointer"
              @click="openWorkshopModal(workshop)"
            >
              <div class="bg-gradient-to-br from-gray-50 to-gray-100 rounded-2xl p-6 hover:shadow-lg transition-all duration-300">
                <div class="w-16 h-16 bg-gradient-to-br from-raspberry to-sunny rounded-full flex items-center justify-center text-white text-2xl mb-4 group-hover:scale-110 transition-transform">
                  {{ workshop.emoji }}
                </div>
                <h3 class="font-bold text-lg mb-2">{{ workshop.title }}</h3>
                <p class="text-sm text-gray-600 mb-4">{{ workshop.description }}</p>
                <div class="flex items-center justify-between text-sm">
                  <span class="text-gray-500">{{ workshop.level }}</span>
                  <span class="text-raspberry font-semibold flex items-center gap-1 group-hover:gap-2 transition-all">
                    D√©tails
                    <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                      <path fill-rule="evenodd" d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z" clip-rule="evenodd" />
                    </svg>
                  </span>
                </div>
              </div>
            </div>
          </div>

          <!-- T√©moignages -->
          <div class="mt-16 bg-gradient-to-r from-indigo/5 to-cacao/5 rounded-2xl p-8">
            <h3 class="text-2xl font-bold text-center mb-8">Ce que disent nos slameurs</h3>
            <div class="grid md:grid-cols-2 gap-8">
              <div class="bg-white rounded-xl p-6">
                <p class="text-gray-700 italic mb-4">
                  "Le slam chez FlexBeat m'a permis de trouver ma voix et de partager mes histoires. 
                  C'est plus qu'un club, c'est une famille qui encourage et inspire."
                </p>
                <div class="flex items-center gap-3">
                  <div class="w-12 h-12 bg-gradient-to-br from-raspberry to-sunny rounded-full flex items-center justify-center text-white font-bold">
                    JM
                  </div>
                  <div>
                    <p class="font-semibold">Jean-Michel</p>
                    <p class="text-sm text-gray-500">Membre depuis 2 ans</p>
                  </div>
                </div>
              </div>
              
              <div class="bg-white rounded-xl p-6">
                <p class="text-gray-700 italic mb-4">
                  "Les ateliers d'√©criture ont transform√© ma fa√ßon de voir la po√©sie. 
                  J'ai gagn√© en confiance et j'ose maintenant monter sur sc√®ne r√©guli√®rement."
                </p>
                <div class="flex items-center gap-3">
                  <div class="w-12 h-12 bg-gradient-to-br from-indigo to-cacao rounded-full flex items-center justify-center text-white font-bold">
                    SA
                  </div>
                  <div>
                    <p class="font-semibold">Sarah</p>
                    <p class="text-sm text-gray-500">Membre depuis 6 mois</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- CTA -->
    <section class="py-16 bg-gradient-to-br from-raspberry to-sunny text-white">
      <div class="container mx-auto px-4">
        <div class="max-w-4xl mx-auto text-center">
          <h2 class="text-3xl md:text-4xl font-bold mb-6">
            Votre voix m√©rite d'√™tre entendue
          </h2>
          <p class="text-xl text-white/90 mb-8">
            Rejoignez notre communaut√© de slameurs et lib√©rez le po√®te qui sommeille en vous
          </p>
          <div class="flex flex-col sm:flex-row gap-4 justify-center">
            <router-link 
              to="/join" 
              class="bg-white text-raspberry hover:bg-gray-100 font-bold py-4 px-8 rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl"
            >
              S'inscrire au club
            </router-link>
            <button 
              @click="showVideo('intro')"
              class="border-2 border-white text-white hover:bg-white hover:text-raspberry font-bold py-4 px-8 rounded-xl transition-all duration-300 flex items-center justify-center gap-2"
            >
              <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clip-rule="evenodd" />
              </svg>
              Voir notre vid√©o
            </button>
          </div>
        </div>
      </div>
    </section>

    <!-- Modal Atelier -->
    <Teleport to="body">
      <div v-if="modalOpen" class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4" @click="closeModal">
        <div class="bg-white rounded-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto" @click.stop>
          <div class="sticky top-0 bg-white p-6 border-b border-gray-200 z-10">
            <div class="flex justify-between items-start">
              <h2 class="text-2xl font-bold text-cacao">{{ selectedWorkshop?.title }}</h2>
              <button @click="closeModal" class="p-2 hover:bg-gray-100 rounded-lg transition-colors">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                </svg>
              </button>
            </div>
          </div>
          
          <div class="p-6">
            <div class="mb-6">
              <p class="text-gray-700 mb-4">{{ selectedWorkshop?.fullDescription }}</p>
              
              <h3 class="font-bold text-lg mb-3 text-indigo">Programme de l'atelier</h3>
              <ul class="space-y-2 mb-6">
                <li v-for="item in selectedWorkshop?.program" :key="item" class="flex items-start gap-2">
                  <svg class="w-5 h-5 text-sunny flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                  </svg>
                  <span class="text-gray-700">{{ item }}</span>
                </li>
              </ul>
              
              <div class="bg-gray-50 rounded-lg p-4">
                <h4 class="font-semibold mb-2">Informations pratiques</h4>
                <div class="space-y-1 text-sm text-gray-600">
                  <p><strong>Dur√©e :</strong> {{ selectedWorkshop?.duration }}</p>
                  <p><strong>Fr√©quence :</strong> {{ selectedWorkshop?.frequency }}</p>
                  <p><strong>Participants :</strong> {{ selectedWorkshop?.participants }}</p>
                  <p><strong>Mat√©riel :</strong> {{ selectedWorkshop?.material }}</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </Teleport>

    <!-- Modal Vid√©o -->
    <Teleport to="body">
      <div v-if="videoModalOpen" class="fixed inset-0 bg-black bg-opacity-75 z-50 flex items-center justify-center p-4" @click="closeVideoModal">
        <div class="relative max-w-4xl w-full" @click.stop>
          <button @click="closeVideoModal" class="absolute -top-12 right-0 text-white hover:text-gray-300 transition-colors">
            <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
            </svg>
          </button>
          <div class="aspect-w-16 aspect-h-9">
            <iframe 
              :src="currentVideoUrl" 
              frameborder="0" 
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
              allowfullscreen
              class="w-full h-full rounded-xl"
            ></iframe>
          </div>
        </div>
      </div>
    </Teleport>
  </div>
</template>

<script setup>
import { ref } from 'vue'

const modalOpen = ref(false)
const videoModalOpen = ref(false)
const selectedWorkshop = ref(null)
const currentVideoUrl = ref('')

const workshops = [
  {
    id: 1,
    title: "Les bases du slam",
    emoji: "üéØ",
    level: "D√©butant",
    description: "Apprenez les fondamentaux de l'√©criture slam et trouvez votre style unique.",
    fullDescription: "Cet atelier est con√ßu pour les d√©butants qui souhaitent d√©couvrir l'art du slam. Nous explorerons les techniques de base de l'√©criture po√©tique moderne, le rythme, les jeux de mots et la construction d'un texte percutant.",
    duration: "2 heures",
    frequency: "Tous les mercredis",
    participants: "12 maximum",
    material: "Carnet et stylo fournis",
    program: [
      "Introduction au slam : histoire et principes",
      "Exercices d'√©criture automatique",
      "Jeux de mots et sonorit√©s",
      "Construction d'un premier texte",
      "Lecture collective et feedback bienveillant"
    ]
  },
  {
    id: 2,
    title: "Performance sc√©nique",
    emoji: "üé≠",
    level: "Interm√©diaire",
    description: "Ma√Ætrisez l'art de la performance et captivez votre audience.",
    fullDescription: "Pour ceux qui ont d√©j√† des textes mais veulent am√©liorer leur pr√©sence sc√©nique. Nous travaillons sur la projection vocale, la gestuelle, le rythme et la connexion avec le public.",
    duration: "3 heures",
    frequency: "Samedis bi-mensuels",
    participants: "8 maximum",
    material: "Vos textes personnels",
    program: [
      "√âchauffement vocal et corporel",
      "Techniques de respiration",
      "Gestion du trac et de l'√©motion",
      "Occupation de l'espace sc√©nique",
      "Mise en pratique avec feedback vid√©o"
    ]
  },
  {
    id: 3,
    title: "√âcriture engag√©e",
    emoji: "‚úä",
    level: "Tous niveaux",
    description: "Transformez vos convictions en po√©sie puissante et percutante.",
    fullDescription: "Le slam est souvent un art engag√©. Dans cet atelier, nous explorons comment transformer nos col√®res, nos espoirs et nos combats en textes po√©tiques forts qui touchent et mobilisent.",
    duration: "2h30",
    frequency: "Mensuel",
    participants: "15 maximum",
    material: "Th√®me annonc√© √† l'avance",
    program: [
      "Le slam comme outil de changement social",
      "Techniques d'√©criture militante",
      "M√©taphores et images fortes",
      "L'√©quilibre entre message et po√©sie",
      "Cr√©ation collective sur un th√®me d'actualit√©"
    ]
  }
]

const openWorkshopModal = (workshop) => {
  selectedWorkshop.value = workshop
  modalOpen.value = true
}

const closeModal = () => {
  modalOpen.value = false
  selectedWorkshop.value = null
}

const showVideo = (type) => {
  // Ici vous mettriez les vraies URLs de vos vid√©os
  const videos = {
    'open-mic': 'https://www.youtube.com/embed/dQw4w9WgXcQ',
    'battle': 'https://www.youtube.com/embed/dQw4w9WgXcQ',
    'intro': 'https://www.youtube.com/embed/dQw4w9WgXcQ'
  }
  currentVideoUrl.value = videos[type] || videos['intro']
  videoModalOpen.value = true
}

const closeVideoModal = () => {
  videoModalOpen.value = false
  currentVideoUrl.value = ''
}
</script>

<style scoped>
.aspect-w-16 {
  position: relative;
  padding-bottom: 56.25%;
}

.aspect-w-16 > * {
  position: absolute;
  height: 100%;
  width: 100%;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}
</style>
